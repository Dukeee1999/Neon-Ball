import*as t from"pixi.js";function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function n(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?a(t):e}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=i(t);if(e){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function p(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,y(t,e,"get"))}function h(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,y(t,e,"set"),n),n}function y(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},d=function(t){return t&&t.Math==Math&&t},b=d("object"==typeof globalThis&&globalThis)||d("object"==typeof window&&window)||d("object"==typeof self&&self)||d("object"==typeof v&&v)||function(){return this}()||Function("return this")(),g={},w=function(t){try{return!!t()}catch(t){return!0}},m=!w((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),O={},E={}.propertyIsEnumerable,j=Object.getOwnPropertyDescriptor,S=j&&!E.call({1:2},1);O.f=S?function(t){var e=j(this,t);return!!e&&e.enumerable}:E;var T=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},P={}.toString,A=function(t){return P.call(t).slice(8,-1)},k=A,x="".split,L=w((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==k(t)?x.call(t,""):Object(t)}:Object,_=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},I=L,R=_,M=function(t){return I(R(t))},D=function(t){return"object"==typeof t?null!==t:"function"==typeof t},z=D,C=function(t,e){if(!z(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!z(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!z(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!z(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},F=_,N=function(t){return Object(F(t))},U=N,G={}.hasOwnProperty,W=Object.hasOwn||function(t,e){return G.call(U(t),e)},B=D,V=b.document,X=B(V)&&B(V.createElement),Y=function(t){return X?V.createElement(t):{}},H=Y,Q=!m&&!w((function(){return 7!=Object.defineProperty(H("div"),"a",{get:function(){return 7}}).a})),q=m,K=O,$=T,J=M,Z=C,tt=W,et=Q,nt=Object.getOwnPropertyDescriptor;g.f=q?nt:function(t,e){if(t=J(t),e=Z(e,!0),et)try{return nt(t,e)}catch(t){}if(tt(t,e))return $(!K.f.call(t,e),t[e])};var rt=w,ot=/#|\.prototype\./,it=function(t,e){var n=at[ut(t)];return n==st||n!=ct&&("function"==typeof e?rt(e):!!e)},ut=it.normalize=function(t){return String(t).replace(ot,".").toLowerCase()},at=it.data={},ct=it.NATIVE="N",st=it.POLYFILL="P",ft=it,lt={},pt=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},ht=function(t,e,n){if(pt(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},yt={},vt=D,dt=function(t){if(!vt(t))throw TypeError(String(t)+" is not an object");return t},bt=m,gt=Q,wt=dt,mt=C,Ot=Object.defineProperty;yt.f=bt?Ot:function(t,e,n){if(wt(t),e=mt(e,!0),wt(n),gt)try{return Ot(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var Et=yt,jt=T,St=m?function(t,e,n){return Et.f(t,e,jt(1,n))}:function(t,e,n){return t[e]=n,t},Tt=b,Pt=g.f,At=ft,kt=lt,xt=ht,Lt=St,_t=W,It=function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e},Rt=function(t,e){var n,r,o,i,u,a,c,s,f=t.target,l=t.global,p=t.stat,h=t.proto,y=l?Tt:p?Tt[f]:(Tt[f]||{}).prototype,v=l?kt:kt[f]||(kt[f]={}),d=v.prototype;for(o in e)n=!At(l?o:f+(p?".":"#")+o,t.forced)&&y&&_t(y,o),u=v[o],n&&(a=t.noTargetGet?(s=Pt(y,o))&&s.value:y[o]),i=n&&a?a:e[o],n&&typeof u==typeof i||(c=t.bind&&n?xt(i,Tt):t.wrap&&n?It(i):h&&"function"==typeof i?xt(Function.call,i):i,(t.sham||i&&i.sham||u&&u.sham)&&Lt(c,"sham",!0),v[o]=c,h&&(_t(kt,r=f+"Prototype")||Lt(kt,r,{}),kt[r][o]=i,t.real&&d&&!d[o]&&Lt(d,o,i)))},Mt=A,Dt=Array.isArray||function(t){return"Array"==Mt(t)},zt=Math.ceil,Ct=Math.floor,Ft=function(t){return isNaN(t=+t)?0:(t>0?Ct:zt)(t)},Nt=Ft,Ut=Math.max,Gt=Math.min,Wt=function(t,e){var n=Nt(t);return n<0?Ut(n+e,0):Gt(n,e)},Bt=Ft,Vt=Math.min,Xt=function(t){return t>0?Vt(Bt(t),9007199254740991):0},Yt=C,Ht=yt,Qt=T,qt={exports:{}},Kt=b,$t=St,Jt=function(t,e){try{$t(Kt,t,e)}catch(n){Kt[t]=e}return e},Zt=b["__core-js_shared__"]||Jt("__core-js_shared__",{}),te=Zt;(qt.exports=function(t,e){return te[t]||(te[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.15.1",mode:"pure",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"});var ee,ne,re=0,oe=Math.random(),ie=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++re+oe).toString(36)},ue=lt,ae=b,ce=function(t){return"function"==typeof t?t:void 0},se=function(t,e){return arguments.length<2?ce(ue[t])||ce(ae[t]):ue[t]&&ue[t][e]||ae[t]&&ae[t][e]},fe=se("navigator","userAgent")||"",le=b.process,pe=le&&le.versions,he=pe&&pe.v8;he?ne=(ee=he.split("."))[0]<4?1:ee[0]+ee[1]:fe&&(!(ee=fe.match(/Edge\/(\d+)/))||ee[1]>=74)&&(ee=fe.match(/Chrome\/(\d+)/))&&(ne=ee[1]);var ye=ne&&+ne,ve=ye,de=w,be=!!Object.getOwnPropertySymbols&&!de((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ve&&ve<41})),ge=be&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,we=b,me=qt.exports,Oe=W,Ee=ie,je=be,Se=ge,Te=me("wks"),Pe=we.Symbol,Ae=Se?Pe:Pe&&Pe.withoutSetter||Ee,ke=function(t){return Oe(Te,t)&&(je||"string"==typeof Te[t])||(je&&Oe(Pe,t)?Te[t]=Pe[t]:Te[t]=Ae("Symbol."+t)),Te[t]},xe=w,Le=ye,_e=ke("species"),Ie=Rt,Re=D,Me=Dt,De=Wt,ze=Xt,Ce=M,Fe=function(t,e,n){var r=Yt(e);r in t?Ht.f(t,r,Qt(0,n)):t[r]=n},Ne=ke,Ue=function(t){return Le>=51||!xe((function(){var e=[];return(e.constructor={})[_e]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}("slice"),Ge=Ne("species"),We=[].slice,Be=Math.max;Ie({target:"Array",proto:!0,forced:!Ue},{slice:function(t,e){var n,r,o,i=Ce(this),u=ze(i.length),a=De(t,u),c=De(void 0===e?u:e,u);if(Me(i)&&("function"!=typeof(n=i.constructor)||n!==Array&&!Me(n.prototype)?Re(n)&&null===(n=n[Ge])&&(n=void 0):n=void 0,n===Array||void 0===n))return We.call(i,a,c);for(r=new(void 0===n?Array:n)(Be(c-a,0)),o=0;a<c;a++,o++)a in i&&Fe(r,o,i[a]);return r.length=o,r}});var Ve=lt,Xe=function(t){return Ve[t+"Prototype"]}("Array").slice,Ye=Array.prototype,He=function(t){var e=t.slice;return t===Ye||t instanceof Array&&e===Ye.slice?Xe:e},Qe=St,qe=function(t,e,n,r){r&&r.enumerable?t[e]=n:Qe(t,e,n)},Ke=qe,$e=function(t,e,n){for(var r in e)n&&n.unsafe&&t[r]?t[r]=e[r]:Ke(t,r,e[r],n);return t},Je={exports:{}},Ze={},tn=!w((function(){return Object.isExtensible(Object.preventExtensions({}))})),en=Ze,nn=D,rn=W,on=yt.f,un=tn,an=ie("meta"),cn=0,sn=Object.isExtensible||function(){return!0},fn=function(t){on(t,an,{value:{objectID:"O"+ ++cn,weakData:{}}})},ln=Je.exports={REQUIRED:!1,fastKey:function(t,e){if(!nn(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!rn(t,an)){if(!sn(t))return"F";if(!e)return"E";fn(t)}return t[an].objectID},getWeakData:function(t,e){if(!rn(t,an)){if(!sn(t))return!0;if(!e)return!1;fn(t)}return t[an].weakData},onFreeze:function(t){return un&&ln.REQUIRED&&sn(t)&&!rn(t,an)&&fn(t),t}};en[an]=!0;var pn={},hn=pn,yn=ke("iterator"),vn=Array.prototype,dn={};dn[ke("toStringTag")]="z";var bn="[object z]"===String(dn),gn=bn,wn=A,mn=ke("toStringTag"),On="Arguments"==wn(function(){return arguments}()),En=gn?wn:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),mn))?n:On?wn(e):"Object"==(r=wn(e))&&"function"==typeof e.callee?"Arguments":r},jn=En,Sn=pn,Tn=ke("iterator"),Pn=dt,An=dt,kn=function(t){return void 0!==t&&(hn.Array===t||vn[yn]===t)},xn=Xt,Ln=ht,_n=function(t){if(null!=t)return t[Tn]||t["@@iterator"]||Sn[jn(t)]},In=function(t){var e=t.return;if(void 0!==e)return Pn(e.call(t)).value},Rn=function(t,e){this.stopped=t,this.result=e},Mn=function(t,e,n){var r,o,i,u,a,c,s,f=n&&n.that,l=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),y=Ln(e,f,1+l+h),v=function(t){return r&&In(r),new Rn(!0,t)},d=function(t){return l?(An(t),h?y(t[0],t[1],v):y(t[0],t[1])):h?y(t,v):y(t)};if(p)r=t;else{if("function"!=typeof(o=_n(t)))throw TypeError("Target is not iterable");if(kn(o)){for(i=0,u=xn(t.length);u>i;i++)if((a=d(t[i]))&&a instanceof Rn)return a;return new Rn(!1)}r=o.call(t)}for(c=r.next;!(s=c.call(r)).done;){try{a=d(s.value)}catch(t){throw In(r),t}if("object"==typeof a&&a&&a instanceof Rn)return a}return new Rn(!1)},Dn=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},zn=En,Cn=bn?{}.toString:function(){return"[object "+zn(this)+"]"},Fn=bn,Nn=yt.f,Un=St,Gn=W,Wn=Cn,Bn=ke("toStringTag"),Vn=function(t,e,n,r){if(t){var o=n?t:t.prototype;Gn(o,Bn)||Nn(o,Bn,{configurable:!0,value:e}),r&&!Fn&&Un(o,"toString",Wn)}},Xn=D,Yn=Dt,Hn=ke("species"),Qn=ht,qn=L,Kn=N,$n=Xt,Jn=function(t,e){var n;return Yn(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Yn(n.prototype)?Xn(n)&&null===(n=n[Hn])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Zn=[].push,tr=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,u=7==t,a=5==t||i;return function(c,s,f,l){for(var p,h,y=Kn(c),v=qn(y),d=Qn(s,f,3),b=$n(v.length),g=0,w=l||Jn,m=e?w(c,b):n||u?w(c,0):void 0;b>g;g++)if((a||g in v)&&(h=d(p=v[g],g,y),t))if(e)m[g]=h;else if(h)switch(t){case 3:return!0;case 5:return p;case 6:return g;case 2:Zn.call(m,p)}else switch(t){case 4:return!1;case 7:Zn.call(m,p)}return i?-1:r||o?o:m}},er={forEach:tr(0),map:tr(1),filter:tr(2),some:tr(3),every:tr(4),find:tr(5),findIndex:tr(6),filterOut:tr(7)},nr=Zt,rr=Function.toString;"function"!=typeof nr.inspectSource&&(nr.inspectSource=function(t){return rr.call(t)});var or,ir,ur,ar=nr.inspectSource,cr=b.WeakMap,sr="function"==typeof cr&&/native code/.test(ar(cr)),fr=qt.exports,lr=ie,pr=fr("keys"),hr=function(t){return pr[t]||(pr[t]=lr(t))},yr=sr,vr=D,dr=St,br=W,gr=Zt,wr=hr,mr=Ze,Or=b.WeakMap;if(yr||gr.state){var Er=gr.state||(gr.state=new Or),jr=Er.get,Sr=Er.has,Tr=Er.set;or=function(t,e){if(Sr.call(Er,t))throw new TypeError("Object already initialized");return e.facade=t,Tr.call(Er,t,e),e},ir=function(t){return jr.call(Er,t)||{}},ur=function(t){return Sr.call(Er,t)}}else{var Pr=wr("state");mr[Pr]=!0,or=function(t,e){if(br(t,Pr))throw new TypeError("Object already initialized");return e.facade=t,dr(t,Pr,e),e},ir=function(t){return br(t,Pr)?t[Pr]:{}},ur=function(t){return br(t,Pr)}}var Ar={set:or,get:ir,has:ur,enforce:function(t){return ur(t)?ir(t):or(t,{})},getterFor:function(t){return function(e){var n;if(!vr(e)||(n=ir(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},kr=Rt,xr=b,Lr=Je.exports,_r=w,Ir=St,Rr=Mn,Mr=Dn,Dr=D,zr=Vn,Cr=yt.f,Fr=er.forEach,Nr=m,Ur=Ar.set,Gr=Ar.getterFor,Wr=$e,Br=Je.exports.getWeakData,Vr=dt,Xr=D,Yr=Dn,Hr=Mn,Qr=W,qr=Ar.set,Kr=Ar.getterFor,$r=er.find,Jr=er.findIndex,Zr=0,to=function(t){return t.frozen||(t.frozen=new eo)},eo=function(){this.entries=[]},no=function(t,e){return $r(t.entries,(function(t){return t[0]===e}))};eo.prototype={get:function(t){var e=no(this,t);if(e)return e[1]},has:function(t){return!!no(this,t)},set:function(t,e){var n=no(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=Jr(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}};var ro,oo={getConstructor:function(t,e,n,r){var o=t((function(t,i){Yr(t,o,e),qr(t,{type:e,id:Zr++,frozen:void 0}),null!=i&&Hr(i,t[r],{that:t,AS_ENTRIES:n})})),i=Kr(e),u=function(t,e,n){var r=i(t),o=Br(Vr(e),!0);return!0===o?to(r).set(e,n):o[r.id]=n,t};return Wr(o.prototype,{delete:function(t){var e=i(this);if(!Xr(t))return!1;var n=Br(t);return!0===n?to(e).delete(t):n&&Qr(n,e.id)&&delete n[e.id]},has:function(t){var e=i(this);if(!Xr(t))return!1;var n=Br(t);return!0===n?to(e).has(t):n&&Qr(n,e.id)}}),Wr(o.prototype,n?{get:function(t){var e=i(this);if(Xr(t)){var n=Br(t);return!0===n?to(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return u(this,t,e)}}:{add:function(t){return u(this,t,!0)}}),o}},io=b,uo=$e,ao=Je.exports,co=function(t,e,n){var r,o=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),u=o?"set":"add",a=xr[t],c=a&&a.prototype,s={};if(Nr&&"function"==typeof a&&(i||c.forEach&&!_r((function(){(new a).entries().next()})))){r=e((function(e,n){Ur(Mr(e,r,t),{type:t,collection:new a}),null!=n&&Rr(n,e[u],{that:e,AS_ENTRIES:o})}));var f=Gr(t);Fr(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;!(t in c)||i&&"clear"==t||Ir(r.prototype,t,(function(n,r){var o=f(this).collection;if(!e&&i&&!Dr(n))return"get"==t&&void 0;var u=o[t](0===n?0:n,r);return e?this:u}))})),i||Cr(r.prototype,"size",{configurable:!0,get:function(){return f(this).collection.size}})}else r=n.getConstructor(e,t,o,u),Lr.REQUIRED=!0;return zr(r,t,!1,!0),s[t]=r,kr({global:!0,forced:!0},s),i||n.setStrong(r,t,o),r},so=oo,fo=D,lo=Ar.enforce,po=sr,ho=!io.ActiveXObject&&"ActiveXObject"in io,yo=Object.isExtensible,vo=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},bo=co("WeakMap",vo,so);if(po&&ho){ro=so.getConstructor(vo,"WeakMap",!0),ao.REQUIRED=!0;var go=bo.prototype,wo=go.delete,mo=go.has,Oo=go.get,Eo=go.set;uo(go,{delete:function(t){if(fo(t)&&!yo(t)){var e=lo(this);return e.frozen||(e.frozen=new ro),wo.call(this,t)||e.frozen.delete(t)}return wo.call(this,t)},has:function(t){if(fo(t)&&!yo(t)){var e=lo(this);return e.frozen||(e.frozen=new ro),mo.call(this,t)||e.frozen.has(t)}return mo.call(this,t)},get:function(t){if(fo(t)&&!yo(t)){var e=lo(this);return e.frozen||(e.frozen=new ro),mo.call(this,t)?Oo.call(this,t):e.frozen.get(t)}return Oo.call(this,t)},set:function(t,e){if(fo(t)&&!yo(t)){var n=lo(this);n.frozen||(n.frozen=new ro),mo.call(this,t)?Eo.call(this,t,e):n.frozen.set(t,e)}else Eo.call(this,t,e);return this}})}var jo,So,To,Po=!w((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Ao=W,ko=N,xo=Po,Lo=hr("IE_PROTO"),_o=Object.prototype,Io=xo?Object.getPrototypeOf:function(t){return t=ko(t),Ao(t,Lo)?t[Lo]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?_o:null},Ro=w,Mo=Io,Do=St,zo=W,Co=ke("iterator"),Fo=!1;[].keys&&("next"in(To=[].keys())?(So=Mo(Mo(To)))!==Object.prototype&&(jo=So):Fo=!0);var No=null==jo||Ro((function(){var t={};return jo[Co].call(t)!==t}));No&&(jo={}),No&&!zo(jo,Co)&&Do(jo,Co,(function(){return this}));var Uo,Go={IteratorPrototype:jo,BUGGY_SAFARI_ITERATORS:Fo},Wo=M,Bo=Xt,Vo=Wt,Xo=function(t){return function(e,n,r){var o,i=Wo(e),u=Bo(i.length),a=Vo(r,u);if(t&&n!=n){for(;u>a;)if((o=i[a++])!=o)return!0}else for(;u>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}},Yo={includes:Xo(!0),indexOf:Xo(!1)},Ho=W,Qo=M,qo=Yo.indexOf,Ko=Ze,$o=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Jo=function(t,e){var n,r=Qo(t),o=0,i=[];for(n in r)!Ho(Ko,n)&&Ho(r,n)&&i.push(n);for(;e.length>o;)Ho(r,n=e[o++])&&(~qo(i,n)||i.push(n));return i},Zo=$o,ti=Object.keys||function(t){return Jo(t,Zo)},ei=yt,ni=dt,ri=ti,oi=m?Object.defineProperties:function(t,e){ni(t);for(var n,r=ri(e),o=r.length,i=0;o>i;)ei.f(t,n=r[i++],e[n]);return t},ii=se("document","documentElement"),ui=dt,ai=oi,ci=$o,si=Ze,fi=ii,li=Y,pi=hr("IE_PROTO"),hi=function(){},yi=function(t){return"<script>"+t+"<\/script>"},vi=function(){try{Uo=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;vi=Uo?function(t){t.write(yi("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Uo):((e=li("iframe")).style.display="none",fi.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(yi("document.F=Object")),t.close(),t.F);for(var n=ci.length;n--;)delete vi.prototype[ci[n]];return vi()};si[pi]=!0;var di=Object.create||function(t,e){var n;return null!==t?(hi.prototype=ui(t),n=new hi,hi.prototype=null,n[pi]=t):n=vi(),void 0===e?n:ai(n,e)},bi=Go.IteratorPrototype,gi=di,wi=T,mi=Vn,Oi=pn,Ei=function(){return this};Object.setPrototypeOf||"__proto__"in{}&&function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}}();var ji=Rt,Si=function(t,e,n){var r=e+" Iterator";return t.prototype=gi(bi,{next:wi(1,n)}),mi(t,r,!1,!0),Oi[r]=Ei,t},Ti=Io,Pi=Vn,Ai=St,ki=qe,xi=pn,Li=Go.IteratorPrototype,_i=Go.BUGGY_SAFARI_ITERATORS,Ii=ke("iterator"),Ri=function(){return this},Mi=M,Di=pn,zi=Ar,Ci=function(t,e,n,r,o,i,u){Si(n,e,r);var a,c,s,f=function(t){if(t===o&&v)return v;if(!_i&&t in h)return h[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},l=e+" Iterator",p=!1,h=t.prototype,y=h[Ii]||h["@@iterator"]||o&&h[o],v=!_i&&y||f(o),d="Array"==e&&h.entries||y;if(d&&(a=Ti(d.call(new t)),Li!==Object.prototype&&a.next&&(Pi(a,l,!0,!0),xi[l]=Ri)),"values"==o&&y&&"values"!==y.name&&(p=!0,v=function(){return y.call(this)}),u&&h[Ii]!==v&&Ai(h,Ii,v),xi[e]=v,o)if(c={values:f("values"),keys:i?v:f("keys"),entries:f("entries")},u)for(s in c)(_i||p||!(s in h))&&ki(h,s,c[s]);else ji({target:e,proto:!0,forced:_i||p},c);return c},Fi=zi.set,Ni=zi.getterFor("Array Iterator");Ci(Array,"Array",(function(t,e){Fi(this,{type:"Array Iterator",target:Mi(t),index:0,kind:e})}),(function(){var t=Ni(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),Di.Arguments=Di.Array;var Ui={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Gi=b,Wi=En,Bi=St,Vi=pn,Xi=ke("toStringTag");for(var Yi in Ui){var Hi=Gi[Yi],Qi=Hi&&Hi.prototype;Qi&&Wi(Qi)!==Xi&&Bi(Qi,Xi,Yi),Vi[Yi]=Vi.Array}var qi=lt.WeakMap,Ki="ontouchstart"in window,$i="onpointerdown"in window,Ji=new qi,Zi=new qi,tu=new qi,eu=new qi,nu=new qi,ru=new qi,ou=new qi,iu=new qi,uu=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(y,t.utils.EventEmitter);var o,i,c,f=s(y);function y(e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),r=f.call(this),Ji.set(a(r),{writable:!0,value:{}}),Zi.set(a(r),{writable:!0,value:{}}),tu.set(a(r),{writable:!0,value:null}),eu.set(a(r),{writable:!0,value:null}),nu.set(a(r),{writable:!0,value:1}),ru.set(a(r),{writable:!0,value:null}),ou.set(a(r),{writable:!0,value:new t.Point}),iu.set(a(r),{writable:!0,value:new t.Point}),h(a(r),ru,e),h(a(r),tu,e.view),p(a(r),tu).style.touchAction="none",h(a(r),nu,e.resolution),h(a(r),eu,e.view.style.cursor),r.addEvents(),r}return o=y,(i=[{key:"mapPositionToPoint",value:function(t,e,n){var r=p(this,tu),o=1/p(this,nu),i=r.parentElement?r.getBoundingClientRect():{x:0,y:0,width:0,height:0};t.x=(e-i.left)*(r.width/i.width)*o,t.y=(n-i.top)*(r.height/i.height)*o}},{key:"copyEvent",value:function(t){var e=t.changedTouches,n=p(this,ou),r=p(this,Zi),o=p(this,ru)._lastObjectRendered;if(e){var i,u=l(e);try{for(u.s();!(i=u.n()).done;){var a=i.value;this.mapPositionToPoint(n,a.pageX,a.pageY),r.origin=t,r.stopped=t.cancelBubble,r.id=a.identifier,r.x=n.x,r.y=n.y,r.target=this.hitTest(n,o),this.handle(r,o)}}catch(t){u.e(t)}finally{u.f()}}else this.mapPositionToPoint(n,t.pageX,t.pageY),r.origin=t,r.stopped=t.cancelBubble,r.id=t.pointerId,r.x=n.x,r.y=n.y,r.target=this.hitTest(n,o),this.handle(r,o)}},{key:"onDown",value:function(t){var e=p(this,Zi);e.target=null,e.stopped=!1,e.currentTarget=null,e.type="pointerdown",this.copyEvent(t)}},{key:"onUp",value:function(t){var e=p(this,Zi);e.target=null,e.stopped=!1,e.currentTarget=null,e.type="pointerup",this.copyEvent(t)}},{key:"onMove",value:function(t){var e=p(this,Zi);e.target=null,e.stopped=!1,e.currentTarget=null,e.type="pointermove",this.copyEvent(t)}},{key:"onCancel",value:function(t){var e=p(this,Zi);e.target=null,e.stopped=!1,e.currentTarget=null,e.type="pointercancel",this.copyEvent(t)}},{key:"contains",value:function(t,e){var n=!1;if(e.hitArea){var r=p(this,iu);e.worldTransform.applyInverse(t,r),n=e.hitArea.contains(r.x,r.y)}else e.containsPoint&&(n=e.containsPoint(t));return n&&e._mask&&e._mask.containsPoint&&(n=e._mask.containsPoint(t)),n}},{key:"hitTest",value:function(t,e){for(var n,r=[e||p(this,ru)._lastObjectRendered];r.length;){var o=r.pop();if(o&&o.visible&&!o.isMask){var i=o.interactiveChildren&&o.children;if(this.contains(t,o)){if(n=o,i){r=He(i).call(i);continue}break}if(!o._mask&&i){var u,a=l(i);try{for(a.s();!(u=a.n()).done;){var c=u.value;r.push(c)}}catch(t){a.e(t)}finally{a.f()}}}}for(;n;){if(n.interactive)return n;n=n.parent}}},{key:"handle",value:function(t,e){if(e&&e.visible){this.dispatch(t);var r=t.id,o=t.target,i=t.type,u=p(this,Ji);u[r]=u[r]||{};var a=u[r][i];if(u[r][i]=o,"pointermove"===i&&a!==o&&(p(this,tu).style.cursor=(null==o?void 0:o.cursor)||p(this,eu)),"pointermove"===i&&a!==o){var c=n({},t);if(c.type="pointerenter",this.dispatch(c),!a)return;(c=n({},t)).type="pointerout",c.target=a,this.dispatch(c)}if("pointerup"===i){var s=u[r].pointerdown;if(delete u[r],s&&s!==o){var f=n({},t);f.type="pointerupoutside",f.target=s,this.dispatch(f)}else if(s===o){var l=n({},t);l.type="tap",l.target=o,this.dispatch(l)}}}}},{key:"dispatch",value:function(t){var e=t.target;for(t.x,t.y;e&&!t.stopped;)t.currentTarget=e,e.interactive&&e.emit(t.type,t),e=e.parent;t.currentTarget=null,this.emit(t.type,t)}},{key:"addEvents",value:function(){var t=p(this,tu);$i?(t.addEventListener("pointerdown",this.onDown.bind(this)),t.addEventListener("pointerup",this.onUp.bind(this)),t.addEventListener("pointermove",this.onMove.bind(this)),t.addEventListener("pointercancel",this.onCancel.bind(this))):Ki?(t.addEventListener("touchstart",this.onDown.bind(this)),t.addEventListener("touchend",this.onUp.bind(this)),t.addEventListener("touchmove",this.onMove.bind(this)),t.addEventListener("touchcancel",this.onCancel.bind(this))):(t.addEventListener("mousedown",this.onDown.bind(this)),t.addEventListener("mouseup",this.onUp.bind(this)),t.addEventListener("mousemove",this.onMove.bind(this)))}}])&&r(o.prototype,i),c&&r(o,c),y}();export default uu;
//# sourceMappingURL=interaction.es.js.map
